<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reinforcement Learning - Jason Trinh</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Open Sans', sans-serif;
      line-height: 1.6;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: #ffffff;
    }
    .nav {
      margin-top: -10px;
      margin-bottom: 30px;
    }
    .nav a {
      margin-right: 20px;
      padding: 6px 12px;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 600;
      background-color: #f0f0f0;
      color: #000;
    }
    .nav a.active {
      background-color: #dcdcdc;
    }
    details {
      margin-bottom: 1em;
    }
    summary {
      font-weight: bold;
      cursor: pointer;
    }
    .external-link {
      display: inline-flex;
      align-items: center;
      font-weight: 600;
      font-size: 0.95rem;
      text-decoration: none;
      margin-bottom: 8px;
    }
    .external-link:hover {
      text-decoration: underline;
    }
    a {
      color: #0645ad;
    }
    code {
      background-color: #f4f4f4;
      padding: 2px 4px;
      border: 1px solid #ccc;
      border-radius: 3px;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>Jason Trinh</h1>
  <div class="nav">
    <a href="index.html">Home</a>
    <a href="projects.html">Projects</a>
    <a href="deeplearning.html">Deep Learning</a>
    <a href="reinforcementlearning.html" class="active">Reinforcement Learning</a>
    <a href="visualizations.html">Visualizations</a>
  </div>

  <h1>Reinforcement Learning</h1>

  <h2>Block Blast</h2>
  <p align="center">
    <img src="assets/blockblast.png" alt="Block Blast" width="30%" />
  </p>

  <p>
    Block Blast is a grid-based puzzle game where you drag and place block pieces to complete full rows or columns.
    Each clear scores points and opens space for new pieces, so planning ahead and preserving board flexibility is key.
    The challenge ramps as awkward shapes appear, forcing you to balance immediate clears with long-term survival.
  </p>

  <h2>Block Blast RL Agent</h2>
  <p>
    <a href="https://github.com/jaizunT/blockblastRL" target="_blank" rel="noopener" class="external-link">
      View on GitHub â†—
    </a>
  </p>
  <p align="center">
    <img src="assets/blockblast_rl_img.png" alt="Block Blast RL Agent" width="70%" />
  </p>
  <p>
    This project builds an automated Block Blast environment using macOS iPhone Mirroring. I calibrate tray pickup
    points, board coordinates, and class-specific drag transforms, then capture game state from screenshots.
  </p>

  <p align="center">
    <video width="70%" controls>
      <source src="assets/blockblast_vid.mov" type="video/mov" />
      Your browser does not support the video tag.
    </video>
  </p>
  
  <ul>
    <li>Board state: sample each cell center and compare RGB differences across the cell block.</li>
    <li>Tray state: screenshot each tray, compute a bounding box, then compare cell colors against the background.</li>
    <li>Combo state: detect the purple heart overlay near the score via pixel value checks.</li>
    <li>Score: run OCR on a fixed score region.</li>
    <li>Action masking: block invalid placements before stepping.</li>
    <li>Loss detection: pixel checks plus a valid-move scan, then auto-restart on loss.</li>
    <li>Rewards: favor lines cleared, combos gained, combo count, and score gains; penalize combo loss or game over.</li>
    <li>RL setup: Gym-style actions select tray + target cell; PPO (stable-baselines3) trains on a multi-input
      observation with the board grid, padded tray tensors, and recent move/line/combo signals.</li>
  </ul>
</body>
</html>
